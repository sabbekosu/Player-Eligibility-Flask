{% extends "base.html" %}
{% block title %}Leagues - Admin{% endblock %}
{% block content %}
<h1>Leagues</h1>
<a href="{{ url_for('admin.league_new') }}" class="btn btn-sm btn-primary mb-2">New League</a>
<table class="table">
  <tr><th>ID</th><th>Name</th><th>Tasks</th><th></th></tr>
  {% for l in leagues %}
    <tr>
      <td>{{ l.id }}</td><td>{{ l.name }}</td>
      <td><a href="{{ url_for('admin.tasks', lid=l.id) }}">{{ l.tasks|length }} tasks</a></td>
      <td>
        <a href="{{ url_for('admin.league_edit', lid=l.id) }}" class="btn btn-sm btn-secondary">Edit</a>
        <form action="{{ url_for('admin.league_delete', lid=l.id) }}" method="post" class="d-inline">
          <button class="btn btn-sm btn-danger" onclick="return confirm('Delete?')">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
