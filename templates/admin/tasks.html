{% extends "base.html" %}
{% block title %}Tasks – {{ league.name }}{% endblock %}

{% block content %}
<h1>Tasks – {{ league.name }}</h1>
<a href="{{ url_for('admin.task_new', lid=league.id) }}" class="btn btn-sm btn-primary mb-2">New Task</a>
<table class="table table-sm">
  <tr><th>Order</th><th>ID</th><th>Title</th><th>Category</th><th>Due</th><th></th></tr>
  {% for t in league.tasks %}
    <tr>
      <td>{{ t.order }}</td>
      <td>{{ t.id }}</td>
      <td>{{ t.title }}</td>
      <td>{{ t.category }}</td>
      <td>{{ t.due or "" }}</td>
      <td>
        <a href="{{ url_for('admin.task_edit', lid=league.id, tid=t.id) }}" class="btn btn-sm btn-secondary">Edit</a>
        <form action="{{ url_for('admin.task_delete', lid=league.id, tid=t.id) }}" method="post" class="d-inline">
          <button class="btn btn-sm btn-danger" onclick="return confirm('Delete?')">Del</button>
        </form>
      </td>
    </tr>
  {% endfor %}
</table>
<a href="{{ url_for('admin.leagues') }}" class="btn btn-secondary">Back to Leagues</a>
{% endblock %}
