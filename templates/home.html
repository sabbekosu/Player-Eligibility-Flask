{% extends "base.html" %} {# Assumes base.html uses Tailwind #}
{% block title %}Home â€“ IM Tools{% endblock %}

{% block content %}
  {# Welcome Message - Only show if logged in #}
  {% if current_user.is_authenticated %}
  <div class="mb-8">
    <h1 class="text-2xl font-semibold text-gray-900">Welcome back, {{ current_user.username }}!</h1>
    <p class="mt-1 text-sm text-gray-600">Select an action below to get started.</p>
  </div>
  {% else %}
   <div class="mb-8">
    <h1 class="text-2xl font-semibold text-gray-900">Welcome to IM Tools</h1>
    <p class="mt-1 text-sm text-gray-600">Please log in to manage leagues or use the eligibility checker.</p>
  </div>
  {% endif %}

  {# Action Cards Grid #}
  <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">

    {# Card 1: Eligibility Checker #}
    <a href="{{ url_for('eligibility') }}" class="group col-span-1 flex flex-col justify-between rounded-lg bg-white p-6 shadow-md border border-gray-200 hover:shadow-lg hover:border-osu-orange transition duration-150 ease-in-out">
      <div>
        <div class="flex items-center space-x-3 mb-3">
          {# Icon #}
          <span class="rounded-lg bg-blue-50 p-2 border border-blue-200">
             <svg class="h-6 w-6 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
             </svg>
          </span>
          <h3 class="text-lg font-medium text-gray-900 group-hover:text-osu-orange">Eligibility Checker</h3>
        </div>
        <p class="text-sm text-gray-500">
          Upload IM & Club rosters to check for player limit violations based on sport rules.
        </p>
      </div>
       <div class="mt-4 text-sm font-medium text-osu-orange group-hover:underline">
        Go to Checker &rarr;
      </div>
    </a>

    {# Card 2: Leagues - Only show if logged in #}
    {% if current_user.is_authenticated %}
    <a href="{{ url_for('leagues.league_list') }}" class="group col-span-1 flex flex-col justify-between rounded-lg bg-white p-6 shadow-md border border-gray-200 hover:shadow-lg hover:border-osu-orange transition duration-150 ease-in-out">
       <div>
        <div class="flex items-center space-x-3 mb-3">
           {# Icon #}
           <span class="rounded-lg bg-green-50 p-2 border border-green-200">
             <svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
             </svg>
           </span>
           <h3 class="text-lg font-medium text-gray-900 group-hover:text-osu-orange">League Checklists</h3>
         </div>
         <p class="text-sm text-gray-500">
           View your assigned leagues/events, manage tasks, and track completion progress.
         </p>
       </div>
       <div class="mt-4 text-sm font-medium text-osu-orange group-hover:underline">
        View Leagues &rarr;
      </div>
    </a>
    {% endif %}

     {# Card 3: Admin Panel - Only show if user is admin #}
    {% if current_user.is_authenticated and current_user.role == 'admin' %}
    <a href="{{ url_for('admin.leagues') }}" class="group col-span-1 flex flex-col justify-between rounded-lg bg-white p-6 shadow-md border border-gray-200 hover:shadow-lg hover:border-osu-orange transition duration-150 ease-in-out">
       <div>
        <div class="flex items-center space-x-3 mb-3">
           {# Icon #}
           <span class="rounded-lg bg-purple-50 p-2 border border-purple-200">
             <svg class="h-6 w-6 text-purple-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
             </svg>
           </span>
           <h3 class="text-lg font-medium text-gray-900 group-hover:text-osu-orange">Admin Panel</h3>
         </div>
         <p class="text-sm text-gray-500">
           Manage IM leagues, task templates, and clubs.
         </p>
       </div>
       <div class="mt-4 text-sm font-medium text-osu-orange group-hover:underline">
        Go to Admin &rarr;
      </div>
    </a>

    {# *** NEW CARD: Foundation Reconciliation - Only show if user is admin *** #}
    <a href="{{ url_for('sports_clubs.foundation_reconciliation') }}" class="group col-span-1 flex flex-col justify-between rounded-lg bg-white p-6 shadow-md border border-gray-200 hover:shadow-lg hover:border-osu-orange transition duration-150 ease-in-out">
       <div>
        <div class="flex items-center space-x-3 mb-3">
           {# Icon #}
           <span class="rounded-lg bg-yellow-50 p-2 border border-yellow-200">
                <svg class="h-6 w-6 text-yellow-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 11.21 12.75 10.5 12 10.5s-1.536.71-2.121 1.256c-1.171.879-1.171 2.303 0 3.182S10.829 16.182 12 15.318M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
           </span>
           <h3 class="text-lg font-medium text-gray-900 group-hover:text-osu-orange">Club Foundation Tool</h3>
         </div>
         <p class="text-sm text-gray-500">
           Upload and reconcile foundation donation reports for sports clubs.
         </p>
       </div>
       <div class="mt-4 text-sm font-medium text-osu-orange group-hover:underline">
        Reconcile Reports &rarr;
      </div>
    </a>
    {% endif %} {# End admin role check #}

    {# Placeholder for future dashboard elements #}
    {# <div class="col-span-1 sm:col-span-2 lg:col-span-3 bg-gray-100 p-6 rounded-lg border border-dashed border-gray-300 text-center text-gray-500">
        Future Dashboard Widgets (e.g., Upcoming Tasks) will appear here.
    </div> #}

  </div> {# End Grid #}
{% endblock %}
